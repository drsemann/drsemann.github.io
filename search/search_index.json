{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documenta\u00e7\u00e3o Procedimentos, configura\u00e7\u00f5es e dicas do dia a dia. Temas Linux Windows Redes Virtualiza\u00e7\u00e3o","title":"Home"},{"location":"#documentacao","text":"Procedimentos, configura\u00e7\u00f5es e dicas do dia a dia. Temas Linux Windows Redes Virtualiza\u00e7\u00e3o","title":"Documenta\u00e7\u00e3o"},{"location":"linux/debian/wireguard_aws/","text":"Instalando o wireguard apt install wireguard Habilitando o suporte da VM uname --kernel-release apt install linux-headers-cloud-amd64 apt install --reinstall wireguard-dkms reboot","title":"Wireguard no AWS"},{"location":"linux/debian/wireguard_aws/#instalando-o-wireguard","text":"apt install wireguard","title":"Instalando o wireguard"},{"location":"linux/debian/wireguard_aws/#habilitando-o-suporte-da-vm","text":"uname --kernel-release apt install linux-headers-cloud-amd64 apt install --reinstall wireguard-dkms reboot","title":"Habilitando o suporte da VM"},{"location":"linux/dicas/change_interface_name/","text":"Alterar nome da interface para formato antigo Editar o arquivo do grub nano /etc/default/grub Adicionar em GRUB_CMDLINE_LINUX GRUB_CMDLINE_LINUX=\"net.ifnames=0 biosdevname=0\" Atualizar grub grub-mkconfig -o /boot/grub/grub.cfg","title":"Alterar nome da interface"},{"location":"linux/dicas/change_interface_name/#alterar-nome-da-interface-para-formato-antigo","text":"","title":"Alterar nome da interface para formato antigo"},{"location":"linux/dicas/change_interface_name/#editar-o-arquivo-do-grub","text":"nano /etc/default/grub","title":"Editar o arquivo do grub"},{"location":"linux/dicas/change_interface_name/#adicionar-em-grub_cmdline_linux","text":"GRUB_CMDLINE_LINUX=\"net.ifnames=0 biosdevname=0\"","title":"Adicionar em GRUB_CMDLINE_LINUX"},{"location":"linux/dicas/change_interface_name/#atualizar-grub","text":"grub-mkconfig -o /boot/grub/grub.cfg","title":"Atualizar grub"},{"location":"linux/dicas/compartilhamento_semsenha/","text":"Compartilhamento sem senha no Samba Adicionar no smb.conf server role = standalone server map to guest = Bad Password","title":"Compartilhamento sem senha(Samba)"},{"location":"linux/dicas/compartilhamento_semsenha/#compartilhamento-sem-senha-no-samba","text":"","title":"Compartilhamento sem senha no Samba"},{"location":"linux/dicas/compartilhamento_semsenha/#adicionar-no-smbconf","text":"server role = standalone server map to guest = Bad Password","title":"Adicionar no smb.conf"},{"location":"linux/dicas/data_instalacao/","text":"Ver data de instala\u00e7\u00e3o do sistema ls -lct /etc | tail -1 | awk '{print $6, $7, $8}'","title":"Mostrar data instala\u00e7\u00e3o sistema"},{"location":"linux/dicas/data_instalacao/#ver-data-de-instalacao-do-sistema","text":"ls -lct /etc | tail -1 | awk '{print $6, $7, $8}'","title":"Ver data de instala\u00e7\u00e3o do sistema"},{"location":"linux/dicas/java_gtk_theme/","text":"Adicionar em /etc/profile export _JAVA_OPTIONS='-Dawt.useSystemAAFontSettings=on -Dswing.aatext=true -Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel -Dswing.crossplatformlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel'","title":"Java com tema gtk"},{"location":"linux/dicas/java_gtk_theme/#adicionar-em-etcprofile","text":"export _JAVA_OPTIONS='-Dawt.useSystemAAFontSettings=on -Dswing.aatext=true -Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel -Dswing.crossplatformlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel'","title":"Adicionar em /etc/profile"},{"location":"linux/dicas/postfix_auth_failed/","text":"Verificar login falho postfix Ver erro de senha pop3 e exibe IP cat /var/log/maillog |grep \"LOGIN FAILED\" Ver erro SMTP cat /var/log/messages |grep \"PAM auth error\" cat /var/log/messages |grep \"IP\" cat /var/log/messages |grep \"enderecomail\"","title":"Falha de login MailServer"},{"location":"linux/dicas/postfix_auth_failed/#verificar-login-falho-postfix","text":"","title":"Verificar login falho postfix"},{"location":"linux/dicas/postfix_auth_failed/#ver-erro-de-senha-pop3-e-exibe-ip","text":"cat /var/log/maillog |grep \"LOGIN FAILED\"","title":"Ver erro de senha pop3 e exibe IP"},{"location":"linux/dicas/postfix_auth_failed/#ver-erro-smtp","text":"cat /var/log/messages |grep \"PAM auth error\" cat /var/log/messages |grep \"IP\" cat /var/log/messages |grep \"enderecomail\"","title":"Ver erro SMTP"},{"location":"linux/dicas/progresso_dd/","text":"Usando o pv Instalando o pacote pv sudo apt install pv Executando o comando pv pv xxxx.img | sudo dd of=/dev/xxxx bs=4MB conv=fsync Usando o dcfldd Instalando o pacote dcfldd sudo apt install dcfldd Executando o comando dcfldd dcfldd if=/dev/xxxx of=xxxx.img","title":"DD com progresso"},{"location":"linux/dicas/progresso_dd/#usando-o-pv","text":"","title":"Usando o pv"},{"location":"linux/dicas/progresso_dd/#instalando-o-pacote-pv","text":"sudo apt install pv","title":"Instalando o pacote pv"},{"location":"linux/dicas/progresso_dd/#executando-o-comando-pv","text":"pv xxxx.img | sudo dd of=/dev/xxxx bs=4MB conv=fsync","title":"Executando o comando pv"},{"location":"linux/dicas/progresso_dd/#usando-o-dcfldd","text":"","title":"Usando o dcfldd"},{"location":"linux/dicas/progresso_dd/#instalando-o-pacote-dcfldd","text":"sudo apt install dcfldd","title":"Instalando o pacote dcfldd"},{"location":"linux/dicas/progresso_dd/#executando-o-comando-dcfldd","text":"dcfldd if=/dev/xxxx of=xxxx.img","title":"Executando o comando dcfldd"},{"location":"linux/dicas/systemd_active_runing/","text":"Listando todos os servi\u00e7os systemctl list-units --type=service OU systemctl --type=service Listando os servi\u00e7os ativos systemctl list-units --type=service --state=active Ou systemctl --type=service --state=active Listando os servi\u00e7os que est\u00e3o rodando systemctl list-units --type=service --state=running Ou systemctl --type=service --state=running","title":"Verificando servi\u00e7os no Systemd"},{"location":"linux/dicas/systemd_active_runing/#listando-todos-os-servicos","text":"systemctl list-units --type=service OU systemctl --type=service","title":"Listando todos os servi\u00e7os"},{"location":"linux/dicas/systemd_active_runing/#listando-os-servicos-ativos","text":"systemctl list-units --type=service --state=active Ou systemctl --type=service --state=active","title":"Listando os servi\u00e7os ativos"},{"location":"linux/dicas/systemd_active_runing/#listando-os-servicos-que-estao-rodando","text":"systemctl list-units --type=service --state=running Ou systemctl --type=service --state=running","title":"Listando os servi\u00e7os que est\u00e3o rodando"},{"location":"linux/fedora/allow_openvpn_selinux/","text":"Liberar Openvpn no SELinux Alternativa 1 sudo ausearch -c 'openvpn' --raw | sudo audit2allow -M my-openvpn sudo semodule -X 300 -i my-openvpn.pp Alternativa 2 mkdir ~/.cert mkdir ~/.openvpn mv *.p12 *.key ~/.cert mv *.ovpn ~/.openvpn restorecon -R -v ~/.cert","title":"Libera OpenVPN no Selinux"},{"location":"linux/fedora/allow_openvpn_selinux/#liberar-openvpn-no-selinux","text":"","title":"Liberar Openvpn no SELinux"},{"location":"linux/fedora/allow_openvpn_selinux/#alternativa-1","text":"sudo ausearch -c 'openvpn' --raw | sudo audit2allow -M my-openvpn sudo semodule -X 300 -i my-openvpn.pp","title":"Alternativa 1"},{"location":"linux/fedora/allow_openvpn_selinux/#alternativa-2","text":"mkdir ~/.cert mkdir ~/.openvpn mv *.p12 *.key ~/.cert mv *.ovpn ~/.openvpn restorecon -R -v ~/.cert","title":"Alternativa 2"},{"location":"linux/fedora/fedora_posinstall/","text":"Deixando o Fedora totalmente em Portugu\u00eas Instale o GNOME Tweak Tool sudo dnf install gnome-tweak-tool ## Instala\u00e7\u00e3o do Vscode sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc sudo sh -c 'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/vscode.repo' sudo dnf check-update sudo dnf update -y sudo dnf install code -y Instala\u00e7\u00e3o do Teams sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc sudo sh -c 'echo -e \"[teams]\\nname=teams\\nbaseurl=https://packages.microsoft.com/yumrepos/ms-teams\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/teams.repo' sudo dnf install teams -y Instala\u00e7\u00e3o do skype sudo curl -o /etc/yum.repos.d/skype-stable.repo https://repo.skype.com/rpm/stable/skype-stable.repo sudo dnf install skypeforlinux -y Instala\u00e7\u00e3o do repositorio rpmfusion sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm -y sudo dnf install https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm -y Instala\u00e7\u00e3o do Brave sudo dnf install dnf-plugins-core sudo dnf config-manager --add-repo https://brave-browser-rpm-release.s3.brave.com/x86_64/ sudo rpm --import https://brave-browser-rpm-release.s3.brave.com/brave-core.asc sudo dnf install brave-browser -y Instala\u00e7\u00e3o do Notion Linux wget https://notion.davidbailey.codes/notion-linux.repo sudo mv notion-linux.repo /etc/yum.repos.d/notion-linux.repo sudo dnf install notion-desktop -y Temas Tilix git clone https://codeberg.org/SnowCode/tilix-colors.git mv tilix-colors/*.json ~/.config/tilix/schemes rm -r tilix-colors Onedrive no Linux sudo dnf install onedrive onedrive (primeira execu\u00e7\u00e3o para configurar) onedrive --synchronize (Primeira sincroniza\u00e7\u00e3o) Rodar como Servi\u00e7o systemctl --user enable onedrive systemctl --user start onedrive Ver log de sincroniza\u00e7\u00e3o journalctl --user-unit=onedrive -f Alterar secguran\u00e7a para funcionar com Cisco Anyconnect mais antigos sudo update-crypto-policies --set DEFAULT:FEDORA32","title":"Pos-Instala\u00e7ao"},{"location":"linux/fedora/fedora_posinstall/#deixando-o-fedora-totalmente-em-portugues","text":"","title":"Deixando o Fedora totalmente em Portugu\u00eas"},{"location":"linux/fedora/fedora_posinstall/#instale-o-gnome-tweak-tool","text":"sudo dnf install gnome-tweak-tool ## Instala\u00e7\u00e3o do Vscode sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc sudo sh -c 'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/vscode.repo' sudo dnf check-update sudo dnf update -y sudo dnf install code -y","title":"Instale o GNOME Tweak Tool"},{"location":"linux/fedora/fedora_posinstall/#instalacao-do-teams","text":"sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc sudo sh -c 'echo -e \"[teams]\\nname=teams\\nbaseurl=https://packages.microsoft.com/yumrepos/ms-teams\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/teams.repo' sudo dnf install teams -y","title":"Instala\u00e7\u00e3o do Teams"},{"location":"linux/fedora/fedora_posinstall/#instalacao-do-skype","text":"sudo curl -o /etc/yum.repos.d/skype-stable.repo https://repo.skype.com/rpm/stable/skype-stable.repo sudo dnf install skypeforlinux -y","title":"Instala\u00e7\u00e3o do skype"},{"location":"linux/fedora/fedora_posinstall/#instalacao-do-repositorio-rpmfusion","text":"sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm -y sudo dnf install https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm -y","title":"Instala\u00e7\u00e3o do repositorio rpmfusion"},{"location":"linux/fedora/fedora_posinstall/#instalacao-do-brave","text":"sudo dnf install dnf-plugins-core sudo dnf config-manager --add-repo https://brave-browser-rpm-release.s3.brave.com/x86_64/ sudo rpm --import https://brave-browser-rpm-release.s3.brave.com/brave-core.asc sudo dnf install brave-browser -y","title":"Instala\u00e7\u00e3o do Brave"},{"location":"linux/fedora/fedora_posinstall/#instalacao-do-notion-linux","text":"wget https://notion.davidbailey.codes/notion-linux.repo sudo mv notion-linux.repo /etc/yum.repos.d/notion-linux.repo sudo dnf install notion-desktop -y","title":"Instala\u00e7\u00e3o do Notion Linux"},{"location":"linux/fedora/fedora_posinstall/#temas-tilix","text":"git clone https://codeberg.org/SnowCode/tilix-colors.git mv tilix-colors/*.json ~/.config/tilix/schemes rm -r tilix-colors","title":"Temas Tilix"},{"location":"linux/fedora/fedora_posinstall/#onedrive-no-linux","text":"sudo dnf install onedrive onedrive (primeira execu\u00e7\u00e3o para configurar) onedrive --synchronize (Primeira sincroniza\u00e7\u00e3o)","title":"Onedrive no Linux"},{"location":"linux/fedora/fedora_posinstall/#rodar-como-servico","text":"systemctl --user enable onedrive systemctl --user start onedrive","title":"Rodar como Servi\u00e7o"},{"location":"linux/fedora/fedora_posinstall/#ver-log-de-sincronizacao","text":"journalctl --user-unit=onedrive -f","title":"Ver log de sincroniza\u00e7\u00e3o"},{"location":"linux/fedora/fedora_posinstall/#alterar-secguranca-para-funcionar-com-cisco-anyconnect-mais-antigos","text":"sudo update-crypto-policies --set DEFAULT:FEDORA32","title":"Alterar secguran\u00e7a para funcionar com Cisco Anyconnect mais antigos"},{"location":"linux/redhat/autenticacao_pam_squid/","text":"Autentica\u00e7\u00e3o usando PAM no squid (Centos e Redhat 8) Para que o squid consiga autenticar usando o pam \u00e9 necess\u00e1rio executar o comando: chmod +s /usr/lib64/squid/basic_pam_auth","title":"Autentica\u00e7ao pam no Squid"},{"location":"linux/redhat/autenticacao_pam_squid/#autenticacao-usando-pam-no-squid-centos-e-redhat-8","text":"Para que o squid consiga autenticar usando o pam \u00e9 necess\u00e1rio executar o comando: chmod +s /usr/lib64/squid/basic_pam_auth","title":"Autentica\u00e7\u00e3o usando PAM no squid (Centos e Redhat 8)"},{"location":"linux/redhat/recuperar_senha_root/","text":"Recuperar senha root RH8 Adcionar o seguinte no final da linha rd.break console=tty1 Montar / como rw mount -o remount,rw /sysroot chroot /sysroot passwd touch /.autorelabel","title":"Resetar senha root"},{"location":"linux/redhat/recuperar_senha_root/#recuperar-senha-root-rh8","text":"","title":"Recuperar senha root RH8"},{"location":"linux/redhat/recuperar_senha_root/#adcionar-o-seguinte-no-final-da-linha","text":"rd.break console=tty1","title":"Adcionar o seguinte no final da linha"},{"location":"linux/redhat/recuperar_senha_root/#montar-como-rw","text":"mount -o remount,rw /sysroot chroot /sysroot passwd touch /.autorelabel","title":"Montar / como rw"},{"location":"linux/redhat/remover_erro_squidlog/","text":"Remover erro no log do Squid \"error:transaction-end-before-headers\" Adicionar no arquivo do squid a acl: acl hasRequest has request Adicionar ao final de seu log: access_log daemon:/var/log/squid/access.log squid hasRequest Reinicializar o squid systemctl restart squid","title":"Remover erro log do Squid"},{"location":"linux/redhat/remover_erro_squidlog/#remover-erro-no-log-do-squid-errortransaction-end-before-headers","text":"Adicionar no arquivo do squid a acl: acl hasRequest has request Adicionar ao final de seu log: access_log daemon:/var/log/squid/access.log squid hasRequest Reinicializar o squid systemctl restart squid","title":"Remover erro no log do Squid \"error:transaction-end-before-headers\""},{"location":"windows/Dicas/alterar_mtu_testar/","text":"Testando o mtu ping hostouip -f -l tamanhomtu Verificando mtu da interface de rede netsh interface ipv4 show subinterfaces Alterando mtu da interface de rede netsh interface ipv4 set subinterface \u201cnomedainterface\u201d mtu=tamanhomtu store=persistent","title":"Verificar MTU da rede"},{"location":"windows/Dicas/alterar_mtu_testar/#testando-o-mtu","text":"ping hostouip -f -l tamanhomtu","title":"Testando o mtu"},{"location":"windows/Dicas/alterar_mtu_testar/#verificando-mtu-da-interface-de-rede","text":"netsh interface ipv4 show subinterfaces","title":"Verificando mtu da interface de rede"},{"location":"windows/Dicas/alterar_mtu_testar/#alterando-mtu-da-interface-de-rede","text":"netsh interface ipv4 set subinterface \u201cnomedainterface\u201d mtu=tamanhomtu store=persistent","title":"Alterando mtu da interface de rede"},{"location":"windows/Dicas/install_eveNG_hyperV/","text":"Baixar iso de instala\u00e7\u00e3o https://www.eve-ng.net/downloads/eve-ng-2 Nota Requisitos Instala\u00e7\u00e3o CPU: 4 vCpu HD: 300GB MEM: 8GB Instala\u00e7\u00e3o VM Selecionar a op\u00e7\u00e3o Install VM no menu de boot P\u00f3s instala\u00e7\u00e3o Executar o seguinte comando no Powershell para habilitar o Intel VT-x ou AMD-V Set-VMProcessor -VMName \"NomedaVMnoHyperV\" -ExposeVirtualizationExtensions $True Executar comando para habilitar a comunica\u00e7\u00e3o entre o host e eve-NG via cloud0 Get-VMNetworkAdapter -VMName \"NomedaVMnoHyperV\" | Set-VMNetworkAdapter -MacAddressSpoofing On","title":"Instala\u00e7\u00e3o Eve-NG no HyperV"},{"location":"windows/Dicas/install_eveNG_hyperV/#baixar-iso-de-instalacao","text":"https://www.eve-ng.net/downloads/eve-ng-2 Nota Requisitos Instala\u00e7\u00e3o CPU: 4 vCpu HD: 300GB MEM: 8GB","title":"Baixar iso de instala\u00e7\u00e3o"},{"location":"windows/Dicas/install_eveNG_hyperV/#instalacao-vm","text":"Selecionar a op\u00e7\u00e3o Install VM no menu de boot","title":"Instala\u00e7\u00e3o VM"},{"location":"windows/Dicas/install_eveNG_hyperV/#pos-instalacao","text":"Executar o seguinte comando no Powershell para habilitar o Intel VT-x ou AMD-V Set-VMProcessor -VMName \"NomedaVMnoHyperV\" -ExposeVirtualizationExtensions $True Executar comando para habilitar a comunica\u00e7\u00e3o entre o host e eve-NG via cloud0 Get-VMNetworkAdapter -VMName \"NomedaVMnoHyperV\" | Set-VMNetworkAdapter -MacAddressSpoofing On","title":"P\u00f3s instala\u00e7\u00e3o"},{"location":"windows/activedirectory/migra_win08_win12/","text":"Adicionar servidor no AD. Instalar servi\u00e7o do AD. Promover o servidor. Consultar FSMO netdom query fsmo Executar o comando \"adprep.exe /forestprep\" aplicativo est\u00e1 na pasta support\\adprep no cd de instala\u00e7\u00e3o. Testando se o camando adprep anterior atualizou o domino adprep.exe /domainprep adprep.exe /rodcprep adprep.exe /domainprep /gpprep Transferindo as fun\u00e7\u00f5es do AD do Windows 2008R2 para o Windows 2012R2 No Windows 2008R2 abra o prompt e execute o comando ntdsutil Abrir\u00e1 um console, nele execute o comando roles Execute o comando connections connect to server \"nome do AD novo\" q transfer schema master (Na janela que abrir\u00e1 clique em SIM) transfer PDC (Na janela que abrir\u00e1 clique em SIM) transfer naming master (Na janela que abrir\u00e1 clique em SIM) transfer RID master (Na janela que abrir\u00e1 clique em SIM) transfer infrastructure master (Na janela que abrir\u00e1 clique em SIM) sai do prompt de comando do ntdsutil. Testando se foram efetuada a transferencia com o comando netdom query fsmo Migrar DHCP para servidor Novo No Windows 2008R2 executar \"netsh dhcp server export C:\\dhcp.txt all\". Copiar arquivo dhcp.txt para no novo servidor. No Windows 2012R2 executar o comando \"netsh dhcp server import c:\\dhcp.txt all\". Autorizar o novo servidor para atribuir o DHCP. Desautorizar servidor antigo e para servi\u00e7o DHCP.","title":"Migrar Domain Controller de 2008R2 para 2012R2"},{"location":"windows/activedirectory/sincronizacao_ad/","text":"Verificar sincroniza\u00e7\u00e3o repadmin /showrepl dcdiag /test:replications For\u00e7ar a sincroniza\u00e7\u00e3o do AD Nota Deve ser executado no AD que est\u00e1 com os registros antigos repadmin /syncall /APeD","title":"Verificar sincroniza\u00e7ao entre Domain Controllers"},{"location":"windows/activedirectory/sincronizacao_ad/#verificar-sincronizacao","text":"repadmin /showrepl dcdiag /test:replications","title":"Verificar sincroniza\u00e7\u00e3o"},{"location":"windows/activedirectory/sincronizacao_ad/#forcar-a-sincronizacao-do-ad","text":"Nota Deve ser executado no AD que est\u00e1 com os registros antigos repadmin /syncall /APeD","title":"For\u00e7ar a sincroniza\u00e7\u00e3o do AD"}]}